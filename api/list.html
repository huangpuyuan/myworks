<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>获取json</title>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <style>
    .picture {
        margin: 0 auto;
        width: 90%;
        height: 500px;
        border: 2px solid #eee;
        background-position: center;
        background-repeat: no-repeat;
        background-clip: content-box;
        background-size: contain;
        padding: 10px 20px;
    }
    
    .para {
        text-indent: 2em!important;
    }
    </style>
</head>

<body>
    <div class="container">
        <h1 class="page-header"> <small>从服务器获取JSON数据</small></h1>
        <ul class="content">
            <!-- <li class="text-center">
                <div class="row">
                    <div class="col-md-4">
                        <h4> 1.作者 :唐伯虎</h4>
                        <img src="http://zt.hkstv.tv/attaches/2017/03/gXnZkq.jpg" " alt=" "/>
                    </div>
                    <div class="col-md-8 ">
                        <h4>作者详情</h4>
                        <div>"唐寅（1470年3月6日-1524年1月7日）生于成化六年二月初四，卒于嘉靖二年十二月二日，字伯虎，后改字子畏，号六如居士、桃花庵主、鲁国唐生、逃禅仙吏等，明代画家、书法家、诗人。三十岁时进京会试，涉会试泄题案而被革黜，妻子改嫁，一生坎坷。后游历名山大川，以卖文鬻画闻名天下。诗文上，与祝允明、文徵明、徐祯卿并称“吴中四才子”。绘画上与沈周、文徵明、仇英并称“吴门四家”，又称“明四家”。 "</div>
                    </div>
                </div>
                <div>
                    <h4>作品:《春树秋香图》</h4>
                    <img width ="600px; " height="auto " src="http://zt.hkstv.tv/previews/2017/03/0-m4BChK.jpg " alt=" "/>
                </div>
            </li> -->
        </ul>
    </div>
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js "></script>
    <script>
    var mydata,
        index = 0,
        $ul = $('.content'),
        urlheader = 'http://zt.hkstv.tv/';

    $.getJSON('./getdata.php', function(resp) {
        mydata = resp.data;
        render(mydata);
    });



    function render(mydata) {
        $.each(mydata, function(idx, value) {

            var tpl = '<li>' + '<h3 class="text-left">' + (idx + 1) + '</h3>' +
                '<div class="row ">' +
                '<div class="col-md-4 ">' +
                '<h4>作者 :' + value.author + '</h4>' +
                '<img style="width:250px;height:300px;" src="' + urlheader + value.filename + '" alt=" " />' +
                '</div>' +
                '<div class="col-md-8 ">' +
                '<h4>作者详情</h4>' + value.text +
                '</div>' +
                '</div>' +
                '<div>' +
                '<h4>作品:' + value.title + '</h4>' +
                '<div class="picture" style="background-image:url(' + urlheader + value.picture + ');" alt=" " ></div>' +
                '</div>' +
                '</li>';
            console.log(tpl);
            $ul.append(tpl);

        });
    }
    </script>
</body>

</html>
