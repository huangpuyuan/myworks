<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="shortcut icon" href="./images/logo.ico" type="image/x-icon">
    <title>庆祝香港20周年全球华人书画名家盛典</title>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div style="width:0px; height:0px; overflow:hidden;"><img src="images/logo.png"></div>
    <div class="box">
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container-fluid">
                <div class="nav-list">
                    <a class="navbar-brand" href="http://www.hkstv.tv" target="_blank"><img alt="hkstv" src="images/hks_logo.png"></a>
                    <ul class="nav navbar-nav nav-list_item visile-xs">
                        <li><a href="index.html">活动首页</a></li>
                        <li><a href="hdxq.html">活动详情</a></li>
                        <li class="active"><a href="qbzp.html">全部作品</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right hidden-xs">
                        <li><a href="http://www.hkstv.tv" target="_blank">返回香港卫视官网</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="jumbotron">
        </div>
        <div class="container">
            <div class="navigation hidden-xs">
                <ul>
                    <li class="l"><a href="index.html">首页</a></li>
                    <li class="l"><a href="hdxq.html">活动详情</a></li>
                    <li class="l"><a class="dangqian" href="qbzp.html">全部作品</a></li>
                </ul>
            </div>
        </div>
        <div class="container">
            <h2>全部作品</h2>
            <ul class="wooks"></ul>
            <nav aria-label="Page navigation">
                <ul class="pagination">
                    <li class="disabled">
                        <a href="javascript:;" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    <!-- <li class="active"><a href="#">1</a></li>
                    <li><a href="#">2</a></li>
                    <li><a href="#">3</a></li>
                    <li><a href="#">4</a></li>
                    <li><a href="#">5</a></li> -->
                    <li>
                        <a href="javascript:;" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
        <footer class="bs-docs-footer">
            <div class="container">
                <p class="text-center">香港卫视国际传媒集团 版权所有 不得转载
                    <br> 粤ICP备10227277号 </p>
            </div>
        </footer>
    </div>
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>
    const wook = [{
        "id": "1",
        "title": "春树秋香图",
        "author": "唐伯虎",
        "link": "detail.html",
        "imgSrc": "images/zp1.jpg"
    }, {
        "id": "2",
        "title": "春树秋香图",
        "author": "唐伯虎",
        "link": "detail.html",
        "imgSrc": "images/zp2.jpg"
    }, {
        "id": "3",
        "title": "春树秋香图",
        "author": "唐伯虎",
        "link": "detail.html",
        "imgSrc": "images/zp3.jpg"
    }, {
        "id": "4",
        "title": "春树秋香图",
        "author": "唐伯虎",
        "link": "detail.html",
        "imgSrc": "images/zp4.jpg"
    }, {
        "id": "1",
        "title": "春树秋香图",
        "author": "唐伯虎",
        "link": "detail.html",
        "imgSrc": "images/zp1.jpg"
    }, {
        "id": "2",
        "title": "春树秋香图",
        "author": "唐伯虎",
        "link": "detail.html",
        "imgSrc": "images/zp2.jpg"
    }, {
        "id": "3",
        "title": "春树秋香图",
        "author": "唐伯虎",
        "link": "detail.html",
        "imgSrc": "images/zp3.jpg"
    }, {
        "id": "4",
        "title": "春树秋香图",
        "author": "唐伯虎",
        "link": "detail.html",
        "imgSrc": "images/zp4.jpg"
    }, {
        "id": "1",
        "title": "春树秋香图",
        "author": "唐伯虎",
        "link": "detail.html",
        "imgSrc": "images/zp1.jpg"
    }, {
        "id": "2",
        "title": "春树秋香图",
        "author": "唐伯虎",
        "link": "detail.html",
        "imgSrc": "images/zp2.jpg"
    }, {
        "id": "3",
        "title": "春树秋香图",
        "author": "唐伯虎",
        "link": "detail.html",
        "imgSrc": "images/zp3.jpg"
    }, {
        "id": "4",
        "title": "春树秋香图",
        "author": "唐伯虎",
        "link": "detail.html",
        "imgSrc": "images/zp4.jpg"
    }];

    var $wooks = $('.wooks'),
        len = wook.length,
        $pageList = $('.pagination > li'),
        count = 8, //每页数量
        pages = Math.ceil(len / count) //页数
        index = 1;

    function pagination() {
        for (var i = 1; i <= pages; i++) {
            var pagination_tpl = '<li class="' + ((i == 1) ? 'active' : '') + '" data-id="' + i + '">' +
                '<a href="javascript:;" >' + i + '</a></li>';
            var $node = $pageList.last().before(pagination_tpl); //最后一个节点
            $node.prev().on('click', function() {
                $(this).siblings().removeClass('active');
                hideAllWooks();
                $(this).addClass('active');
                var idx = $(this).attr('data-id');
                showWooks(idx);
            });

        };

        $pageList.first().on('click', function() {
            if(index == 1){return;}
            var idx = $(this).siblings('.active').removeClass('active').prev().addClass('active').attr('data-id');
            if (idx == 1) {
                $(this).addClass('disabled');
            } else {
                $(this).removeClass('disabled')
            }
            hideAllWooks();
            showWooks(idx);
        });

        $pageList.last().on('click', function() {
            if(index == pages){ $(this).addClass('disabled'); return;}
            var idx = $(this).siblings('.active').removeClass('active').next().addClass('active').attr('data-id');
            index = idx;           
            hideAllWooks();
            showWooks(idx);
        });

    };

    function hideAllWooks() {
        $wooks.find('li').hide();
    }

    function showWooks(idx) {
        $wooks.find('li').slice((idx - 1) * count, idx * count).show();
    }


    $.each(wook, function(idx, value) {
        var tpl = '<li>' +
            '<a href="' + value.link + '">' +
            '<div class="zp">' +
            '<img src="' + value.imgSrc + '" />' +
            '<div class="zp-details">' +
            '<h3>' + value.title + '</h3>' +
            '<p>作者：' + value.author + '</p>' +
            '</div>' +
            '</div>' +
            '</a>' +
            '</li>';

        $wooks.append(tpl);

        if (idx >= count) {
            $wooks.find('li').eq(idx).hide();
        };
    });

    pagination();
    </script>
</body>

</html>
